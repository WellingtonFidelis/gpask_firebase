<!DOCTYPE html>
<html>

<head>

  <script src="http://code.jquery.com/jquery-2.0.3.min.js" type="text/javascript"></script>

</head>

<body>

  <!--MOCK-->
  <p>Gerar Mock da Turma:</p>

  <input type="text" name="turma_mock" id="turma_mock" placeholder="Número da Turma">
  <input type="text" name="quantidade_alunos" id="quantidade_alunos" placeholder="Quantidade de alunos">

  <button type="button" onclick="getInputValueMock();"
    style="background: #069cc2; border-radius: 6px; padding: 15px; cursor: pointer; color: #fff; border: none; font-size: 16px;">
    Gerar
  </button>
  <!--MOCK-->

  <!--MELHOR CASO-->
  <p>Gerar Melhor Caso da Turma:</p>

  <input type="text" name="turma_melhor_caso" id="turma_melhor_caso" placeholder="Número da Turma">
  <input type="text" name="alunos_por_grupo" id="alunos_por_grupo" placeholder="Quantidade de alunos por grupo">

  <button type="button" onclick="getInputValueMelhorCaso();"
    style="background: #069cc2; border-radius: 6px; padding: 15px; cursor: pointer; color: #fff; border: none; font-size: 16px;">
    Gerar
  </button>
  <!--MELHOR CASO-->

  <!--ANALISE-->
  <p>Gerar Análise do Melhor Caso da Turma:</p>

  <input type="text" name="turma_analise" id="turma_analise" placeholder="Número da Turma">

  <button type="button" onclick="getInputValueAnalise();"
    style="background: #069cc2; border-radius: 6px; padding: 15px; cursor: pointer; color: #fff; border: none; font-size: 16px;">
    Gerar
  </button>
  <!--ANALISE-->

  <script>

    function getInputValueAnalise() {

      let turma = document.getElementById("turma_analise").value;

      $.ajax({
        url: "http://localhost:5001/gpask-1ab93/us-central1/analyzer",
        type: "GET",
        crossDomain: true,
        dataType: 'jsonp',
        data: {
          'turma': turma
        },
        statusCode: {
          200: function () {
            alert("Análise finalizada com sucesso!");
          }
        }
      });

    }


    function getInputValueMelhorCaso() {

      let turma = document.getElementById("turma_melhor_caso").value;
      let alunos_por_grupo = document.getElementById("alunos_por_grupo").value;

      $.ajax({
        url: "http://localhost:5001/gpask-1ab93/us-central1/melhor_caso",
        type: "GET",
        crossDomain: true,
        dataType: 'jsonp',
        data: {
          'turma': turma,
          'alunos_por_grupo': alunos_por_grupo
        },
        statusCode: {
          200: function () {
            alert("Melhor Caso finalizado com sucesso!");
          }
        }
      });

    }


    function getInputValueMock() {

      let turma = document.getElementById("turma_mock").value;
      let quantidade_alunos = document.getElementById("quantidade_alunos").value;

      $.ajax({
        url: "http://localhost:5001/gpask-1ab93/us-central1/mock",
        type: "GET",
        crossDomain: true,
        dataType: 'jsonp',
        data: {
          'turma': turma,
          'quantidade_alunos': quantidade_alunos
        },
        statusCode: {
          200: function () {
            alert("Mock da Turma gerado com sucesso!");
          }
        }
      });

    }

    /*document.addEventListener('DOMContentLoaded', function () {
      const loadEl = document.querySelector('#load');

      try {
        let app = firebase.app();

        firebase.firestore().collection('professores').doc().set({
          nome: 'Manuel Martins',
          titulacao: 'Doutor',
          idade: 35
        });

        firebase.firestore().collection('professores').onSnapshot((snapshot) => {

          snapshot.docChanges().forEach((change) => {
            if(change.type == 'added'){
              console.log('novo item', change.doc.id);

              document.getElementById("conteudo").innerHTML += "<p>" + change.doc.id + "<p>";
            }
          });

        });




        let features = [
          'auth',
          'database',
          'firestore',
          'functions',
          'messaging',
          'storage',
          'analytics',
          'remoteConfig',
          'performance',
        ].filter(feature => typeof app[feature] === 'function');
        loadEl.textContent = `Firebase SDK loaded with ${features.join(', ')}`;
      } catch (e) {
        console.error(e);
        loadEl.textContent = 'Error loading the Firebase SDK, check the console.';
      }
    });*/
  </script>

  <!--<p id="turma"></p>-->

</body>

</html>